import{useId as e}from"@radix-ui/react-id";import*as t from"@radix-ui/react-visually-hidden";import{Slottable as o}from"@radix-ui/react-slot";import{Portal as n}from"@radix-ui/react-portal";import*as r from"@radix-ui/react-popper";import{Primitive as i,extendPrimitive as a}from"@radix-ui/react-primitive";import{Presence as s}from"@radix-ui/react-presence";import{useRect as l}from"@radix-ui/react-use-rect";import{usePrevious as c}from"@radix-ui/react-use-previous";import{useLayoutEffect as u}from"@radix-ui/react-use-layout-effect";import{useEscapeKeydown as p}from"@radix-ui/react-use-escape-keydown";import{useControllableState as d}from"@radix-ui/react-use-controllable-state";import{createContext as f}from"@radix-ui/react-context";import{useComposedRefs as m}from"@radix-ui/react-compose-refs";import{composeEventHandlers as g}from"@radix-ui/primitive";import*as x from"react";import y from"@babel/runtime/helpers/esm/extends";function E(e){return{type:"machine.actions.assign",assign:e}}let T,v;const C=E(((e,t)=>{var o;return{...e,id:null!==(o=t.id)&&void 0!==o?o:e.id}})),b=function(e,{debug:t=!1,warnOnUnknownTransitions:o=!1}={}){let n=e.initial,r=e.context;const i=[],a=s=>{var l,c;const u=e.states[n],p=s.type,d=null===(l=e.on)||void 0===l?void 0:l[p],f=null===(c=u.on)||void 0===c?void 0:c[p],m=null!=d?d:f;if(void 0===m)o&&console.warn(`From state: "${n}", event "${p}" has no transition to any state`);else{const{target:o,actions:l=[],cond:c=(()=>!0)}=m,p=o?e.states[o]:{};if(c(r,s)){const e=(u.exit||[]).concat(l,p.entry||[]);r=function(e,t,o){let n=o;return null==e||e.forEach((e=>{"function"==typeof e?e(n,t,a):"machine.actions.assign"===e.type&&(n=e.assign(n,t))})),n}(e,s,r),o&&(n=o,t&&(console.group("event:",s),console.log("state:",n),console.log("context:",r),console.groupEnd()),i.forEach((e=>e({state:n,context:r}))))}}};return{subscribe:function(e){return i.push(e),()=>{i.splice(i.indexOf(e),1)}},send:a,getContext:function(){return r}}}({initial:"closed",context:{id:null,delayed:!1},on:{FOCUS:{target:"open"}},states:{closed:{entry:[E((e=>({...e,id:null})))],on:{OPEN:{target:"opening"}}},opening:{entry:[(e,t,o)=>{const n=t.delayDuration,r=()=>o({type:"DELAY_TIMER_END"});void 0===n?r():T=window.setTimeout(r,n)},C,E((e=>({...e,delayed:!0})))],exit:[()=>clearTimeout(T)],on:{DELAY_TIMER_END:{target:"open"},CLOSE:{target:"closed"}}},open:{entry:[C],exit:[E((e=>({...e,delayed:!1})))],on:{OPEN:{target:"open"},CLOSE:{target:"closing",cond:(e,t)=>e.id===t.id}}},closing:{entry:[(e,t,o)=>{var n;const r=null!==(n=t.skipDelayDuration)&&void 0!==n?n:300;v=window.setTimeout((()=>o({type:"SKIP_DELAY_TIMER_END"})),r)}],exit:[()=>clearTimeout(v)],on:{OPEN:{target:"open"},SKIP_DELAY_TIMER_END:{target:"closed"}}}}}),[D,w]=f("Tooltip");export const Tooltip=t=>{const{children:o,open:n,defaultOpen:r=!1,onOpenChange:i,delayDuration:a=700,skipDelayDuration:s=300}=t,l=x.useRef(null),c=e(),[p=!1,f]=d({prop:n,defaultProp:r,onChange:i}),[m,g]=x.useState(n?"instant-open":"closed");x.useEffect((()=>b.subscribe((({state:e,context:t})=>{"open"===e&&t.id===c?f(!0):f(!1)}))),[c,f]),x.useEffect((()=>b.subscribe((({state:e,context:t})=>{t.id===c?g("open"===e?t.delayed?"delayed-open":"instant-open":"closed"):g("closed")}))),[c]);const y=x.useCallback((()=>b.send({type:"FOCUS",id:c})),[c]),E=x.useCallback((()=>b.send({type:"OPEN",id:c,delayDuration:a})),[c,a]),T=x.useCallback((()=>b.send({type:"CLOSE",id:c,skipDelayDuration:s})),[s,c]);return x.useEffect((()=>()=>T()),[T]),u((()=>{!0===n&&b.send({type:"OPEN",id:c})}),[c,n]),/*#__PURE__*/x.createElement(D,{triggerRef:l,contentId:c,open:p,stateAttribute:m,onFocus:y,onOpen:E,onClose:T},o)};/*#__PURE__*/const R="button";export const TooltipTrigger=/*#__PURE__*/x.forwardRef(((e,t)=>{const{as:o=R,...n}=e,r=w("TooltipTrigger"),a=m(t,r.triggerRef);/*#__PURE__*/return x.createElement(i,y({type:"button","aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},n,{as:o,ref:a,onMouseEnter:g(e.onMouseEnter,r.onOpen),onMouseLeave:g(e.onMouseLeave,r.onClose),onMouseDown:g(e.onMouseDown,r.onClose),onFocus:g(e.onFocus,r.onFocus),onBlur:g(e.onBlur,r.onClose),onKeyDown:g(e.onKeyDown,(e=>{"Enter"!==e.key&&" "!==e.key||r.onClose()}))}))}));/*#__PURE__*/export const TooltipContent=/*#__PURE__*/x.forwardRef(((e,t)=>{const{forceMount:o,...n}=e,r=w("TooltipContent");/*#__PURE__*/return x.createElement(s,{present:o||r.open},/*#__PURE__*/x.createElement(O,y({ref:t},n)))}));const O=/*#__PURE__*/x.forwardRef(((e,i)=>{const{children:a,"aria-label":s,anchorRef:l,portalled:c=!0,...u}=e,d=w("TooltipContent"),f=c?n:x.Fragment;return p((()=>d.onClose())),/*#__PURE__*/x.createElement(f,null,/*#__PURE__*/x.createElement(h,null),/*#__PURE__*/x.createElement(r.Root,y({"data-state":d.stateAttribute},u,{ref:i,anchorRef:l||d.triggerRef,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),/*#__PURE__*/x.createElement(o,null,a),/*#__PURE__*/x.createElement(t.Root,{id:d.contentId,role:"tooltip"},s||a)))}));/*#__PURE__*/export const TooltipArrow=a(r.Arrow,{displayName:"TooltipArrow"});function h(){const e=w("CheckTriggerMoved"),t=l(e.triggerRef),o=null==t?void 0:t.left,n=c(o),r=null==t?void 0:t.top,i=c(r),a=e.onClose;return x.useEffect((()=>{(void 0!==n&&n!==o||void 0!==i&&i!==r)&&a()}),[a,n,i,o,r]),null}export const Root=Tooltip;export const Trigger=TooltipTrigger;export const Content=TooltipContent;export const Arrow=TooltipArrow;
//# sourceMappingURL=index.module.js.map
